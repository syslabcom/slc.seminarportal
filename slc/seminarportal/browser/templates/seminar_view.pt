<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<head>
    <metal:border fill-slot="top_slot">
        <tal:border define="dummy python:request.set('enable_border',1)" />
    </metal:border>

    <metal:block fill-slot="javascript_head_slot">
        <script>
            var jq = jQuery.noConflict();
            jq(document).ready(function(){
                jq("div.big-target a").bigTarget({
                    clickZone : 'div:eq(0)' // jQuery parent selector
                });
            });
        </script>
    </metal:block>

    <metal:fill fill-slot="header">
        <div metal:use-macro="here/document_actions/macros/document_actions">
            Document actions (print, sendto etc)
        </div>
        <h1>
        <tal:block replace="structure python:getattr(here, here.getIcon(1))"/>
        <span tal:replace="here/Title"/>
        </h1>
    </metal:fill>
</head>

<body>

<div metal:fill-slot="main">
    <a  href=""
        class="link-parent"
        i18n:translate="label_more_seminars_link"
        tal:define="parent_url python:here.navigationParent(here,template.getId())"
        tal:condition="parent_url"
        tal:attributes="href parent_url">
        View more seminars
    </a>

    <fieldset>
    <br clear="all"/>
    <div>
        <img border="0" style="padding:0 10px 0 0;" align="left" 
                tal:condition="here/getLogo"
                tal:attributes="src string:${here/absolute_url}/logo"/>
        <div style="float:left" 
             tal:replace="here/Description"/>
        <div tal:condition="python:here.portal_membership.checkPermission('Modify portal content', here)"
             style="float:right; border:1px;">
            <h3> Add Content </h3>
            <form tal:attributes="action string:${here/absolute_url}/speakers/createObject">
                <input type="hidden" name="type_name" value="SPSpeaker"/>
                <input class="context" type="submit" value="Add a Speaker" name="http://www.google.com"/>
            </form>
            <br/>
            <form tal:attributes="action string:${here/absolute_url}/speech-venues/speech-add-helper-page">
                <input class="context" type="submit" value="Add a Speech"/>
            </form>
        </div>
    </div>
    <br clear="all"/>
    <br clear="all"/>

    <tal:get define="resources view/get_files_and_images">
        <table 
            tal:condition="resources"
            id="sortable" 
            class="listing" 
            summary="Content listing"
            style="width:100%">
            <thead>
            <tr>
                <th colspan="2">Resources</th>
            </tr>
            </thead>
            <tbody>
            <tr tal:define="num python:len(resources);"
                tal:repeat="row python:range(0, num/2+num%2)">
                <td style="width:50%">
                    <a tal:attributes="href python:resources[row*2].absolute_url()"
                        tal:content="python:resources[row*2].pretty_title_or_id()"></a>
                </td>
                <td>
                    <tal:if condition="python:num>row*2+1">
                        <a tal:attributes="href python:resources[row*2+1].absolute_url()"
                        tal:content="python:resources[row*2+1].pretty_title_or_id()"></a>
                    </tal:if>
                </td>
            </tr>
            </tbody>
        </table>
    </tal:get>

    <div id="add_to_calendar">
        <label class="eventbox-label-short">Add to calendar:</label>
        <div>
            <a href="#"
                tal:attributes="href string:$here_url/vcs_view"
                title="Download this event in vCal format"
                i18n:attributes="title title_add_to_vcal;">
                <img tal:replace="structure here/icon_export_vcal.png" src="" alt="" />
                <span i18n:translate="label_add_to_vcal">vCal</span></a>

            <a href="#"
                tal:attributes="href string:$here_url/ics_view"
                title="Download this event in iCal format"
                i18n:attributes="title title_add_to_ical;">
                <img tal:replace="structure here/icon_export_ical.png" src="" alt="" />
                <span i18n:translate="label_add_to_ical">iCal</span></a>
        </div>
    </div>
    <br clear="all"/>
    <br clear="all"/>
    <span id="show-more">
    <a style="cursor:pointer" 
        onclick="jq('span#show-more').hide();;
                jq('span#seminar-details').slideToggle(500);;">
            Click here to view more details about this seminar.
    </a>
    </span>

    <span style="display:None" 
            id="seminar-details">
        <a style="cursor:pointer" 
        onclick="jq('span#seminar-details').slideToggle(500);;
                    jq('span#show-more').slideToggle(600);;">
            Click here to hide the details about this seminar.
        </a>
        <br clear="all"/>
        <br clear="all"/>
        <div id="archetypes-field-organiser" class="left-column">
            <label class="eventbox-label">Organiser</label>
            <div class="eventbox-value">
                <metal:field use-macro="python:here.widget('contactName', mode='view')">
                    Organiser
                </metal:field>
                <tal:if condition="not:here/contact_name">
                    --
                </tal:if>
            </div>
        </div>
        <div id="archetypes-field-location" class="right-column">
            <label class="eventbox-label">Location</label>
            <div class="eventbox-value">
                <metal:field use-macro="python:here.widget('location', mode='view')">
                    Location
                </metal:field>
                <tal:if condition="not:here/getLocation">
                    --
                </tal:if>
            </div>
        </div>
        <div class="visualClear"></div>
        <div id="archetypes-field-organiserContact" class="left-column">
            <label class="eventbox-label">Email</label>
            <div class="eventbox-value">
                <metal:field use-macro="python:here.widget('contactEmail', mode='view')">
                    organiserContact
                </metal:field>
                <tal:if condition="not:here/contact_email">
                    --
                </tal:if>
            </div>
        </div>
        <div id="archetypes-field-contactPhone" class="right-column">
            <label class="eventbox-label">Phone</label>
            <div class="eventbox-value">
                <metal:field use-macro="python:here.widget('contactPhone',mode='view')"
                    >organiserPhone
                </metal:field>
                <tal:if condition="not:here/contact_phone">
                    --
                </tal:if>
            </div>
        </div>
        <div class="visualClear"></div>
        <div id="archetypes-field-organiserWebsites" class="left-column">
            <label class="eventbox-label">Website</label>
            <div class="eventbox-value">
                <metal:field use-macro="python:here.widget('eventUrl',mode='view')">
                    organiserWebsites
                </metal:field>
                <tal:if condition="not:here/event_url">
                    --
                </tal:if>
            </div>        
        </div>
        <div class="visualClear"></div>
        <div id="archetypes-field-startDate" class="left-column">
            <label class="eventbox-label">Start Date</label>
            <div class="eventbox-value">
                <metal:field use-macro="python:here.widget('startDate', mode='view')">
                    startDate
                </metal:field>
            </div> 
        </div>
        <div id="archetypes-field-endDate" class="right-column">
            <label class="eventbox-label">End Date</label>
            <div class="eventbox-value">
                <metal:field use-macro="python:here.widget('endDate', mode='view')">
                    End Date
                </metal:field>
            </div>
        </div>
        
        <br clear="all"/>
        <br clear="all"/>
        <div id="archetypes-field-summary">
            <label class="eventbox-label">Summary</label>
            <br clear="all"/>
            <metal:field use-macro="python:here.widget('summary', mode='view')">
                Summary
            </metal:field>
        </div>
                
        <div class="visualClear"></div>
        <div id="archetypes-field-conclusions">
            <label class="eventbox-label">Conclusions</label>
            <br clear="all"/>
            <metal:field use-macro="python:here.widget('conclusions', mode='view')">
                Conclusions !!
            </metal:field>
        </div>
        <div class="visualClear"></div>
        
        <div id="archetypes-field-furtherActions">
            <label class="eventbox-label">Further Actions</label>
            <br clear="all"/>
            <metal:field use-macro="python:here.widget('furtherActions', mode='view')">
                furtherActions
            </metal:field>
        </div>
    </span>
    </fieldset>
    <br clear="all"/>

    <div style="float:right"><a tal:attributes="href string:${here/absolute_url}/@@speech-summary">Click here to see a summary of all the Speeches</a></div>
    <div metal:use-macro="context/@@seminar-roster/macros/view" />
</div>
</body>
</html>

